# 620 - i3 Window Manager

## Installed Packages

- `i3` - Window manager (v4.23)
- `i3blocks` - Status bar / system information display
- `xorg` - X11 display server
- `xinit` - X11 session startup utility
- `wmctrl` - Window manager control utility (for debugging)
- `ydotool` - Wayland/X11 input simulation

## Configuration Files

All i3 configuration is under version control at `~/dev/i3/`:

**Main i3 config:**

- `~/.config/i3/config` - Main i3 configuration (linked from `~/dev/i3/config`)
- `~/.config/i3blocks/config` - Status bar blocks configuration

**Terminal and X11 settings:**

- `~/.config/Xresources` - Terminal colors, fonts, and appearance settings (moved from `~/.Xresources`)

**Note:** .xinitrc and .Xresources symlinks are no longer used. With GDM/COSMIC login, startup commands are now defined in i3 config's autostart section, and Xresources is manually loaded via `xrdb` command.

## Basic Navigation

### Workspace Switching

- **Alt + 1-6** - Jump to workspace
- **Alt + Shift + 1-6** - Move focused window to workspace
- **Alt + X** - Next workspace
- **Alt + Y** - Previous workspace

### Window Focus

- **Alt + J/K/L/;** - Focus left/down/up/right window (vim-style)
- **Alt + Arrow Keys** - Alternative focus navigation

### Window Movement

- **Alt + Shift + J/K/L/;** - Move window left/down/up/right
- **Alt + Shift + Arrow Keys** - Alternative movement

### Window Arrangement

- **Alt + H** - Split horizontally (next window tiles below)
- **Alt + V** - Split vertically (next window tiles right)
- **Alt + E** - Toggle split layout
- **Alt + S** - Stack windows (one behind another)
- **Alt + W** - Tabbed layout (tabs at top)
- **Alt + F** - Toggle fullscreen

### Floating Windows

- **Alt + Shift + Space** - Toggle between floating and tiled mode
- **Alt + Space** - Focus between floating and tiled windows
- **Alt + Mouse drag** - Move floating window (hold Alt, drag with mouse)

### Application Launchers

- **Super + D** - dmenu (type app name to search)
- **Super + Return** - Terminal
- **Super + W** - Waterfox browser
- **Super + C** - VS Code
- **Super + T** - Telegram
- **Super + S** - Signal
- **Super + D** - Discord
- **Super + Shift + S** - Steam
- **Super + L** - Lock screen
- **Super + Print** - Screenshot

### Config Management

- **Alt + Shift + C** - Reload config (apply changes)
- **Alt + Shift + R** - Restart i3 (preserve layout)
- **Alt + Shift + E** - Exit i3 (logout)

### Resize Mode

- **Alt + R** - Enter resize mode
  - Use J/K/L/; or arrow keys to resize
  - Press Enter or Escape to exit

## Multi-Monitor Setup

### This System's Configuration

Three monitors with pre-assigned workspaces:

#### Primary Monitor (DP-3, 3072×1728)**

- Workspace 1: Terminal (Alt+1)
- Workspace 2: Waterfox (Alt+2)
- Workspace 3: Development (Alt+3)
- Workspace 4: Games (Alt+4)
- Workspace 5: Media (Alt+5)

#### Secondary Monitor (DP-2, 1920×1080)**

- Workspace 6: Messengers (Alt+6) - Telegram, Signal, Discord

#### Tertiary Monitor (DP-1, 2048×1152)**

- Workspace 7+ (additional workspaces)

### How It Works

- Each monitor shows one workspace at a time
- Switching workspaces (Alt+1-6) brings that workspace to focus on the current monitor
- Moving windows between workspaces (Alt+Shift+1-6) automatically moves them to that workspace's monitor
- Workspaces are permanently assigned to monitors in the i3 config

## Status Bar (i3blocks)

The status bar shows (left to right):

- Memory usage (RAM and SWAP)
- Disk space (Home directory)
- CPU usage
- Master volume
- Current date and time

No battery or network info (desktop PC, not needed).

**Edit status bar**: `~/.config/i3blocks/config`

## Starting i3

### With GDM/COSMIC Login Manager

At the login screen:

1. Click the **gear icon** (bottom-left corner)
2. Select **"i3"** from the dropdown menu
3. Enter password and log in

The following autostart tasks run automatically on i3 startup:

- Monitor layout configuration (`~/.local/bin/monitor-layout.sh`)
- Terminal colors and X11 settings loaded (`xrdb`)
- Wallpaper set with `feh --bg-fill`
- OpenTabletDriver daemon started (if available)
- Default applications launched to their assigned workspaces

Your X11 session will start with i3 as the window manager, and `DISPLAY` will be automatically set by GDM.

## Switching Back to COSMIC

To return to COSMIC:

1 Log out: **Alt + Shift + E** (confirm "Yes, exit i3")
2 At login screen, select **"COSMIC"** from the dropdown
3 Log in normally

All your files and data remain unchanged.

## Common Tasks

### Open Multiple Terminal Windows

```text
Super+Return (first terminal)
Alt+H        (split horizontally)
Super+Return (second terminal below)
```

### Arrange Messengers on DP-2

```text
Alt+6        (switch to messengers workspace on DP-2)
             (all three apps appear on that monitor)
Alt+H        (split to arrange them side-by-side or vertically)
```

### Create Custom Workspace

Edit `~/.config/i3/config` and add:

```text
set $tag7 "Custom Name"
workspace $tag7 output DP-1
bindsym Mod1+7 workspace $tag7
bindsym Mod1+Shift+7 move container to workspace $tag7
```

Then reload config: **Alt + Shift + C**

## Tips & Tricks

- **Scratchpad** - Hide windows without closing: Alt+Shift+Minus (hide), Alt+Minus (show)
- **Resize without mode** - Alt+Right+Mouse drag to resize
- **Jump to last workspace** - i3 remembers previous workspace (useful for Alt+X / Alt+Y cycling)
- **Dmenu** - Super+D opens fast app launcher; type to search

## Troubleshooting

### Monitor not recognized

- Run `xrandr --listmonitors` to see current configuration
- If a monitor is disconnected, its workspace will be hidden
- Reconnect monitor or move window to different workspace

### Config changes not applying

- Run **Alt + Shift + C** to reload config
- Check `~/.config/i3/config` for syntax errors

### i3blocks not showing

- Verify `i3blocks` is installed: `which i3blocks`
- Check config: `~/.config/i3blocks/config`
- Reload i3: **Alt + Shift + C**

## Related Documentation

- [600_window_management.md](600_window_management.md) - Desktop environment overview
- [630_i3_workspaces.md](630_i3_workspaces.md) - Detailed workspace layout
- [631_messengers_workspace.md](631_messengers_workspace.md) - Messengers workspace setup

## Further Learning

- `man i3` - i3 manual
- `man i3-msg` - Control i3 from command line
- `man i3blocks` - Status bar documentation
- Official: [https://i3wm.org/](https://i3wm.org/)
